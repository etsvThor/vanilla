var vanillaforum;(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[4057],{62102:function(r,e,t){"use strict";t.r(e);var n=t(35996),a=t(18452),o=t(67294),i=t(76044),c=t(64833),s=t(28392),u=t(22964),l=t(27655),f=t(14494),d=t(28481),p=t(92137),v=t(87757),m=t.n(v),b=t(22241),O=t(24124),D=(0,O.hg)("@@reactions/getUserReactions",function(){var r=(0,p.Z)(m().mark((function r(e){var t,n,a,o,i,s,u,l,f,p;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userID,r.next=3,b.ZP.get("/users/".concat(t),{params:{expand:["reactionsReceived"]}});case 3:for(n=r.sent,a=n.data,o=a.reactionsReceived,i=a.name,s=0,u=Object.entries(o);s<u.length;s++)l=(0,d.Z)(u[s],2),f=l[0],p=l[1],o[f].url=(0,c.CN)("/profile/reactions/".concat(encodeURIComponent(i),"?reaction=").concat(encodeURIComponent(p.urlcode)),!0);return r.abrupt("return",Object.values(o));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),{});var P=t(10366),y=t(78064);function g(r){var e=function(r,e){var t=(0,f.I0)(),n=(0,l.Q6)(r),a=(0,f.v9)((function(r){var e,t;return null!==(e=null===(t=r.reactions.reactionIDsByParamHash[n])||void 0===t?void 0:t.status)&&void 0!==e?e:u.Px.PENDING}));(0,o.useEffect)((function(){e?t(D.fulfilled(e,n.toString(),r)):[u.Px.SUCCESS,u.Px.ERROR].includes(a)||t(D(r))}),[e,r,a,t,n]);var i=(0,f.v9)((function(e){return a===u.Px.SUCCESS?e.reactions.reactionIDsByUserID[r.userID].map((function(r){return e.reactions.reactionsByID[r]})):[]})),c=(0,f.v9)((function(e){var t=(0,l.Q6)({userID:r.userID});return a===u.Px.ERROR?e.reactions.reactionIDsByParamHash[t]:void 0})),s={status:a},d={status:a,data:i,error:void 0},p={status:a,data:null==c?void 0:c.data,error:null==c?void 0:c.error};return a==u.Px.PENDING||u.Px.SUCCESS,a===u.Px.ERROR?p:a===u.Px.SUCCESS?d:s}(r.apiParams,r.apiData);if([u.Px.LOADING,u.Px.PENDING].includes(e.status))return o.createElement(P.Z,null);if(e.error)return o.createElement(y.ed,{apiError:e.error});if(e.data&&0===e.data.length)return o.createElement("span",null,(0,c.t)("NoReactionEarned","Any minute nowâ€¦"));var t=e.data;return o.createElement(s.J,{items:t,keyID:"tagID"})}var I=t(85061),h=t(96156);function E(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function j(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){(0,h.Z)(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var x=(0,O.oM)({name:"reactions",initialState:{reactionsByID:{},reactionIDsByUserID:{},reactionIDsByParamHash:{}},reducers:{},extraReducers:function(r){r.addCase(D.pending,(function(r,e){var t=(0,l.Q6)(e.meta.arg);r.reactionIDsByParamHash[t]={status:u.Px.PENDING}})).addCase(D.fulfilled,(function(r,e){var t,n=(0,l.Q6)(e.meta.arg),a=e.payload.filter((function(r){return r.count>0}));a.forEach((function(e){r.reactionsByID[e.tagID]=j(j({},r.reactionsByID[e.tagID]),e)}));var o=a.map((function(r){return r.tagID}));r.reactionIDsByParamHash[n]={status:u.Px.SUCCESS,data:o},r.reactionIDsByUserID[e.meta.arg.userID]=(0,I.Z)(new Set((null!==(t=r.reactionIDsByUserID[e.meta.arg.userID])&&void 0!==t?t:[]).concat(o)))})).addCase(D.rejected,(function(r,e){var t=(0,l.Q6)(e.meta.arg);r.reactionIDsByParamHash[t]={status:u.Px.ERROR,error:e.error}}))}});(0,O.xC)(x);(0,n.xw)(x.name,x.reducer),(0,a.Tk)("ReactionListModule",(function(r){var e=r.title,t=void 0===e?(0,c.t)("Reactions"):e,n=r.description,a=r.subtitle;return o.createElement(i.h,{title:t,description:n,subtitle:a,options:{isGrid:!1,viewAll:void 0}},o.createElement(g,{apiData:r.apiData,apiParams:r.apiParams}))}),{overwrite:!0})},81325:function(r,e,t){"use strict";t.d(e,{v:function(){return m},j:function(){return b}});var n=t(96156),a=t(13901),o=t(35138),i=t(41033),c=t(1109),s=t(71055),u=t(94566),l=t(10389),f=t(64685),d=t(67920);function p(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function v(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){(0,n.Z)(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var m=(0,o.yI)((function(){var r=(0,i.OF)();return{colors:(0,a.Cg)("blockQuote")("colors",{fg:r.mainColors.fg,border:{color:r.mixBgAndFg(.23)}})}})),b=(0,o.yI)((function(){var r=(0,i.OF)(),e=m();(0,c.Gk)(".blockquote",v(v({display:"block",margin:(0,l.dd)(0)},d.W.padding({all:3,left:18})),{},{borderLeft:(0,u.$N)({color:e.colors.border.color,width:6}),boxSizing:"border-box",verticalAlign:"middle"})),(0,c.Gk)(".blockquote-content",v({},{"& > *:first-child":{marginTop:(0,l.dd)(0)},"& > *:last-child":{marginBottom:(0,l.dd)(0)}})),(0,f.f)(".embedLink-excerpt",{color:s.w.colorOut(r.mainColors.fg)})}))}},function(r){"use strict";var e=function(e){return r(r.s=e)};r.O(0,[8780,3034,5565,5163,9833,5852,5817,858,6936,3101,5704,7014,394,5900,3269,1097,2487,9601,7061,8317,8614,1385,6708,5096,9283,2053,3854,9841,5677,390,5449,2387,452,4926,3432,3079,4682,4065,3509,3360,4211,2492,7086,2167,7025,924,4401,9584,864,6714],(function(){return e(2702),e(62102)}));var t=r.O();vanillaforum=t}]);