(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[925],{61802:function(e,t,n){"use strict";n.d(t,{a:function(){return o},k:function(){return d}});var o,i=n(22122),r=n(81253),a=n(67294),s=n(24301),l=n(94184),c=n.n(l);!function(e){e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom"}(o||(o={}));var d=a.forwardRef((function(e,t){var n=e.firstItemProps,o=e.lastItemProps,l=e.isEntered,d=(e.delay,e.fromDirection,e.fade,e.asElement),f=(e.halfDirection,e.targetTransform,e.children),h=(e.onDestroyed,(0,r.Z)(e,["firstItemProps","lastItemProps","isEntered","delay","fromDirection","fade","asElement","halfDirection","targetTransform","children","onDestroyed"])),m=u(e),p=(0,s.Yz)(l?f:null,(function(e){return null==e?void 0:e.key}),m),g=d?s.q[d]:s.q.div;return p.map((function(e,r){var s=e.item,l=e.key,d=e.props,u=0===r,f=r===p.length-1,m=c()(h.className,u&&(null==n?void 0:n.className),f&&(null==o?void 0:o.className));return s&&a.createElement(g,(0,i.Z)({},h,u&&null!=n?n:{},f&&null!=o?o:{},{className:m,ref:t,key:l,style:d}),s)}))})),u=function(e){var t=e.fromDirection,n=e.delay,i=e.fade,r=e.halfDirection,s=e.targetTransform,l=e.onDestroyed,c=null!=s?s:{},d=c.xPercent,u=void 0===d?0:d,f=c.yPercent,h=void 0===f?0:f;return(0,a.useMemo)((function(){var e=i?0:1,a=void 0,s=void 0;if(t){var c=0,d=0,f=0,m=0,p=r?25:100;switch(t){case o.BOTTOM:c=u,d=u,f=h+p,m=h;break;case o.TOP:c=u,d=u,f=h-p,m=h;break;case o.RIGHT:c=u+p,d=u,f=h,m=h;break;case o.LEFT:c=u-p,d=u,f=h,m=h}a="translate3d(".concat(c,"%, ").concat(f,"%, 0)"),s="translate3d(".concat(d,"%, ").concat(m,"%, 0)")}var g={config:{tension:250,friction:30,clamp:!0},trail:n||0,onDestroyed:function(){null==l||l()},from:{pointerEvents:"none",opacity:e,transform:a},enter:{opacity:1,pointerEvents:"initial",transform:s},leave:{opacity:e,pointerEvents:"none",transform:a}};return g.from.transform||delete g.from.transform,g.enter.transform||delete g.enter.transform,g.leave.transform||delete g.leave.transform,g}),[i,t,n,r,u,h,l])}},17070:function(e,t,n){"use strict";n.r(t),n.d(t,{MODAL_CONTAINER_ID:function(){return Z},PAGE_CONTAINER_ID:function(){return P},default:function(){return S},mountModal:function(){return k}});var o=n(6610),i=n(5991),r=n(63349),a=n(10379),s=n(46070),l=n(77608),c=n(96156),d=n(22122),u=n(28481),f=n(53554),h=n(40792),m=n(98674),p=n(94184),g=n.n(p),y=n(67294),v=n(17606),b=n(61802),E=n(98119),D=n(83494);function w(e){var t=e.titleID,n=e.label,o=e.size,i=e.isVisible,r=e.onDestroyed,a=(0,y.useState)(!1),s=(0,u.Z)(a,2),l=s[0],c=s[1],p=(0,D.tv)(),w=(0,E.xy)(i);(0,y.useLayoutEffect)((function(){w&&!i?(c(!0),p.setIsForcedOpen(!1)):!w&&i&&p.setIsForcedOpen(!0)}),[i,w]);var x=(0,y.useCallback)((function(){c(!1),r()}),[r]),O=(0,y.useMemo)((function(){return(0,m.qC)("modal")}),[])+"-description",L=(0,y.useRef)(null),Z=e.modalRef||L,P=(0,h.W)(),k=y.createElement(y.Fragment,null,e.description&&y.createElement("div",{id:O,className:"sr-only"},e.description),e.children);e.scrollable&&(k=y.createElement(v.in,null,y.createElement("div",{className:P.scroll},k)));var S=(0,y.useMemo)((function(){switch(o){case f.Z.SMALL:case f.Z.MEDIUM:case f.Z.LARGE:case f.Z.XL:return{xPercent:-50,yPercent:-50};default:return}}),[o]),I=function(){switch(e.size){case f.Z.SMALL:case f.Z.MEDIUM:case f.Z.LARGE:return{fade:!0,fromDirection:b.a.BOTTOM,halfDirection:!0};case f.Z.XL:return{fade:!0};case f.Z.FULL_SCREEN:return{fade:!1};case f.Z.MODAL_AS_DROP_DOWN:return{fade:!1,fromDirection:b.a.TOP};case f.Z.MODAL_AS_SIDE_PANEL_RIGHT:case f.Z.MODAL_AS_SIDE_PANEL_RIGHT_LARGE:return{fade:!1,fromDirection:b.a.RIGHT};case f.Z.MODAL_AS_SIDE_PANEL_LEFT:return{fade:!1,fromDirection:b.a.LEFT}}}();return y.createElement("div",{onKeyPress:e.onKeyPress},y.createElement(b.k,{fade:!0,isEntered:e.isVisible,className:P.overlayScrim,onDestroyed:x},y.createElement("span",null)),y.createElement(v.ZP,{isActive:e.isVisible||w||l},y.createElement("div",{className:P.overlayContent,onClick:e.onOverlayClick,style:{pointerEvents:e.isVisible?"initial":"none"}},y.createElement(b.k,(0,d.Z)({id:e.id},I,{targetTransform:S,isEntered:e.isVisible,role:"dialog","aria-modal":!0,className:g()(P.root,{isFullScreen:o===f.Z.FULL_SCREEN||o===f.Z.MODAL_AS_SIDE_PANEL_RIGHT||o===f.Z.MODAL_AS_SIDE_PANEL_LEFT,isSidePanelRight:o===f.Z.MODAL_AS_SIDE_PANEL_RIGHT,isSidePanelRightLarge:o===f.Z.MODAL_AS_SIDE_PANEL_RIGHT_LARGE,isSidePanelLeft:o===f.Z.MODAL_AS_SIDE_PANEL_LEFT,isDropDown:o===f.Z.MODAL_AS_DROP_DOWN,isXL:o===f.Z.XL,isLarge:o===f.Z.LARGE,isMedium:o===f.Z.MEDIUM,isSmall:o===f.Z.SMALL,isShadowed:o===f.Z.LARGE||f.Z.MEDIUM||f.Z.SMALL},e.className),ref:Z,onKeyDown:e.onKeyDown,onClick:e.onModalClick,"aria-label":n,"aria-labelledby":t,"aria-describedby":e.description?O:void 0}),k))))}var x=n(27655),O=n(94370);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}var Z="modals",P="page";function k(e){return(0,E.t_)(e,Z)}var S=function(e){(0,a.Z)(n,e);var t=L(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c.Z)((0,r.Z)(e),"closeFocusElement",null),(0,c.Z)((0,r.Z)(e),"selfRef",y.createRef()),(0,c.Z)((0,r.Z)(e),"state",{wasDestroyed:!e.props.isVisible}),(0,c.Z)((0,r.Z)(e),"onMountIn",(function(){var t=e.getPageContainer();e.setCloseFocusElement(),e.focusInitialElement(),t&&t.setAttribute("aria-hidden",!0),0===n.stack.length&&document.addEventListener("keydown",e.handleDocumentEscapePress),n.stack.push((0,r.Z)(e))})),(0,c.Z)((0,r.Z)(e),"handleDestroyed",(function(){var t;e.setState({wasDestroyed:!0});var o=e.getPageContainer();n.stack.pop(),0===n.stack.length?(o&&o.removeAttribute("aria-hidden"),document.removeEventListener("keydown",e.handleDocumentEscapePress)):o&&o.setAttribute("aria-hidden",!0),null===(t=e.closeFocusElement)||void 0===t||t.focus()})),(0,c.Z)((0,r.Z)(e),"handleTabbing",(function(t){t.shiftKey&&9===t.keyCode?e.handleShiftTab(t):t.shiftKey||9!==t.keyCode||e.handleTab(t)})),(0,c.Z)((0,r.Z)(e),"handleDocumentEscapePress",(function(t){var o=n.stack[n.stack.length-1];if("keyCode"in t&&27===t.keyCode){if(t.preventDefault(),t.stopPropagation(),1===n.stack.length&&e.props.isWholePage)return;o.props.exitHandler&&o.props.exitHandler(t)}})),(0,c.Z)((0,r.Z)(e),"handleModalClick",(function(e){e.stopPropagation()})),(0,c.Z)((0,r.Z)(e),"handleScrimClick",(function(t){t.preventDefault(),e.props.exitHandler&&e.props.exitHandler(t)})),e}return(0,i.Z)(n,[{key:"render",value:function(){return this.state.wasDestroyed?null:(0,E.t_)(y.createElement(y.Fragment,null,y.createElement(w,{id:this.props.id,className:this.props.className,onDestroyed:this.handleDestroyed,scrollable:this.props.scrollable,onKeyDown:this.handleTabbing,onModalClick:this.handleModalClick,onOverlayClick:this.handleScrimClick,description:this.props.description,size:this.props.size,modalRef:this.selfRef,titleID:"titleID"in this.props?this.props.titleID:void 0,label:"label"in this.props?this.props.label:void 0,isVisible:this.props.isVisible,onKeyPress:this.props.onKeyPress},this.props.children),this.props.afterContent),Z,!0)}},{key:"tabHandler",get:function(){return this.selfRef.current?new O.yE(this.selfRef.current):null}},{key:"componentDidMount",value:function(){this.getPageContainer()||(0,x.KE)('\nA modal was mounted, but the page container could not be found.\nPlease wrap your primary content area with the ID "'.concat(P,'" so it can be hidden to screenreaders.\n            '))}},{key:"componentDidUpdate",value:function(e,t){this.props.elementToFocusOnExit!==e.elementToFocusOnExit&&this.setCloseFocusElement(),t.wasDestroyed&&!this.state.wasDestroyed&&this.onMountIn(),!e.isVisible&&this.props.isVisible&&this.setState({wasDestroyed:!1})}},{key:"getPageContainer",value:function(){return document.getElementById(P)}},{key:"focusInitialElement",value:function(){var e,t=this.props.elementToFocus?this.props.elementToFocus:null===(e=this.tabHandler)||void 0===e?void 0:e.getInitial();t&&t.focus()}},{key:"setCloseFocusElement",value:function(){if(this.props.elementToFocusOnExit?this.closeFocusElement=this.props.elementToFocusOnExit:this.closeFocusElement=document.activeElement,(0,x.fF)()&&(!this.closeFocusElement||this.closeFocusElement===document.documentElement)){throw new Error("\nDev Mode Error: Could not detect an element to focus on <Modal /> close.\n\nIt seems auto-detection isn't working, so you'll need to specify the \"elementToFocusOnExit\" props.")}}},{key:"handleShiftTab",value:function(e){var t,n=null===(t=this.tabHandler)||void 0===t?void 0:t.getNext(void 0,!0);n&&(e.preventDefault(),e.stopPropagation(),n.focus())}},{key:"handleTab",value:function(e){var t,n=null===(t=this.tabHandler)||void 0===t?void 0:t.getNext();n&&(e.preventDefault(),e.stopPropagation(),n.focus())}}]),n}(y.Component);(0,c.Z)(S,"stack",[])},40792:function(e,t,n){"use strict";n.d(t,{e:function(){return b},W:function(){return E}});var o=n(96156),i=n(80522),r=n(33383),a=n(41033),s=n(52571),l=n(92366),c=n(71055),d=n(10389),u=n(67920),f=n(13901),h=n(35138),m=n(85819),p=n(1109),g=n(15255);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,h.yI)((function(){var e=(0,a.OF)(),t=(0,f.Cg)("modal"),n=e.elementaryColors,o=t("colors",{fg:e.mainColors.fg,bg:e.mainColors.bg,overlayBg:e.mainColors.fg.lightness()>.5?n.white.fade(.4):n.black.fade(.4)}),i=t("sizing",{xl:1022,large:720,medium:516,small:375,height:(0,m.aQ)(96),zIndex:1050}),r=t("spacing",{horizontalMargin:40}),s=t("border",{radius:e.borderType.modals.radius}),l=t("dropDown",{padding:e.spacer.size}),d=t("header",{minHeight:60,verticalPadding:12,boxShadow:"0 1px 2px 0 ".concat(c.w.colorOut(e.overlay.bg))});return{colors:o,sizing:i,spacing:r,border:s,dropDown:l,header:d,footer:t("footer",{minHeight:d.minHeight,verticalPadding:d.verticalPadding,boxShadow:"0 -1px 2px 0 ".concat(c.w.colorOut(e.overlay.bg))}),fullScreenTitleSpacing:t("fullScreenModalTitle",{gap:52})}})),E=(0,h.yI)((function(){var e=(0,a.OF)(),t=b(),n=(0,f.Y7)("modal"),h=(0,r._)().mediaQueries(),y=(0,s.kL)(),E=(0,i.d)();(0,p.Gk)("#modals",{position:"relative",zIndex:1050});var D={position:"fixed",height:(0,m.sI)(100),width:(0,m.aQ)(100),top:0,left:0,right:0,bottom:0,zIndex:10},w=n("overlayScrim",v(v({},D),{},{background:c.w.colorOut(t.colors.overlayBg)})),x=n("overlayContent",v({},D)),O=v({left:(0,d.dd)(t.dropDown.padding),width:(0,m.yx)("100% - ".concat((0,d.dd)(t.dropDown.padding))),display:"flex",flexDirection:"column",top:0,bottom:0,transform:"none",borderTopRightRadius:0,borderBottomRightRadius:0,maxWidth:400},(0,o.Z)({},".".concat((0,g.IJ)().action),{fontWeight:e.fonts.weights.normal}));return{root:n(v(v({display:"flex",flexDirection:"column",width:(0,m.aQ)(100),maxWidth:(0,m.aQ)(100),maxHeight:(0,d.dd)(t.sizing.height),zIndex:1,backgroundColor:c.w.colorOut(t.colors.bg),color:c.w.colorOut(t.colors.fg),position:"fixed",top:(0,m.aQ)(50),left:(0,m.aQ)(50),bottom:"initial",overflow:"hidden",borderRadius:(0,d.dd)(t.border.radius),transform:(0,m.Iu)("-50%","-50%")},u.W.margin({all:"auto"})),{"&&.isFullScreen":{width:(0,m.aQ)(100),height:(0,m.aQ)(100),maxHeight:(0,m.aQ)(100),maxWidth:(0,m.aQ)(100),borderRadius:0,border:"none",top:0,bottom:0,transform:"none",left:0,right:0},"&.isXL":{width:(0,d.dd)(t.sizing.xl),height:(0,m.aQ)(100),maxWidth:(0,m.yx)("100% - ".concat((0,d.dd)(t.spacing.horizontalMargin)))},"&.isLarge":{width:(0,d.dd)(t.sizing.large),maxWidth:(0,m.yx)("100% - ".concat((0,d.dd)(t.spacing.horizontalMargin)))},"&.isMedium":{width:(0,d.dd)(t.sizing.medium),maxWidth:(0,m.yx)("100% - ".concat((0,d.dd)(t.spacing.horizontalMargin)))},"&.isSmall":{width:(0,d.dd)(t.sizing.small),maxWidth:(0,m.yx)("100% - ".concat((0,d.dd)(t.spacing.horizontalMargin)))},"&&&.isSidePanelRight":v(v({},O),{},{right:0,left:"initial"}),"&&&.isSidePanelRightLarge":v(v({},O),{},{right:0,left:"initial",width:(0,d.dd)(t.sizing.xl),maxWidth:(0,m.yx)("100% - ".concat((0,d.dd)(t.spacing.horizontalMargin))),height:(0,m.aQ)(100),maxHeight:(0,m.aQ)(100),top:0,bottom:0}),"&&&.isSidePanelLeft":v(v({},O),{},{left:0,right:"initial"}),"&&.isDropDown":{top:0,left:0,right:0,width:(0,m.aQ)(100),marginBottom:"auto",transform:"none",maxHeight:(0,m.yx)("100% - ".concat((0,d.dd)(e.gutter.size))),borderTopLeftRadius:0,borderTopRightRadius:0,border:"none"},"&.isShadowed":v(v({},y.dropDown()),u.W.border(e.borderType.modals)),".form-group":{marginLeft:(0,d.dd)(-16),marginRight:(0,d.dd)(-16)}})),scroll:n("scroll",{width:(0,m.aQ)(100),height:(0,m.aQ)(100),maxHeight:(0,m.aQ)(100),overflow:"auto"}),content:n("content",y.modal()),pageHeader:n("pageHeader",(0,l.sticky)(),v(v({},y.embed()),{},{top:0,display:"flex",alignItems:"center",justifyContent:"center",height:(0,d.dd)(E.sizing.height),minHeight:(0,d.dd)(E.sizing.height),zIndex:2,background:c.w.colorOut(t.colors.bg)},{"&.noShadow":{boxShadow:"none"}}),h.oneColumnDown({height:(0,d.dd)(E.sizing.mobile.height),minHeight:(0,d.dd)(E.sizing.mobile.height)})),overlayScrim:w,overlayContent:x,frameWrapper:n("frameWrapper",v({position:"relative",display:"flex",flexDirection:"column",height:(0,m.aQ)(100),maxHeight:(0,m.aQ)(100),minHeight:(0,m.aQ)(0),width:(0,m.aQ)(100)},{".frame":{maxHeight:"100%",flex:1}}))}}))}}]);