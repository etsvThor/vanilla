(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[7631],{15286:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var a=t(67294),c=t(64833),o=t(34182),l=t(29571),i=t(74232),u=t(51523),r=t(15172),s=t(58508),m=t(18948),d=t(91353),E=t(66688),p=t(95116),Z=t(63059),h=t(63754),v=t(43498),b=t(26444),f=t(9359);function C(e){var n,t,C=e.onCancel,L=e.onSuccess,g=e.discussion,y=(0,f.yZ)(g.discussionID,"announce").patchDiscussion,k=(0,m.TA)({initialValues:{pinLocation:g.pinned?g.pinLocation:""},onSubmit:function(e){var n=e.pinLocation;y({pinLocation:""!==n?n:void 0,pinned:""!==n}),L()}}),T=(0,u.V)(),S=(0,i.B)(),A=k.isSubmitting,B=k.handleSubmit,I=k.handleChange;return a.createElement("form",{onSubmit:B},a.createElement(o.Z,{header:a.createElement(s.Z,{closeFrame:C,title:(0,c.t)("Announce")}),body:a.createElement(l.Z,null,a.createElement("div",{className:T.contents},a.createElement(a.Fragment,null,(0,c.t)("Where do you want to announce this discussion?")),a.createElement(E.Z,null,a.createElement(p.Z,{defaultChecked:"category"===k.values.pinLocation,onChange:I,name:"pinLocation",value:"category",label:a.createElement(h.Z,{source:"In <0/>.",c0:a.createElement("b",null,a.createElement(h.Z,{source:"<1/>",c1:null===(n=g.category)||void 0===n?void 0:n.name}))})}),a.createElement(d.ZP,{permission:"discussions.announce",mode:d.R9.GLOBAL},a.createElement(p.Z,{defaultChecked:"recent"===k.values.pinLocation,onChange:I,name:"pinLocation",value:"recent",label:a.createElement(h.Z,{source:"In <0/> and recent discussions.",c0:a.createElement("b",null,a.createElement(h.Z,{source:"<1/>",c1:null===(t=g.category)||void 0===t?void 0:t.name}))})})),a.createElement(p.Z,{defaultChecked:""===k.values.pinLocation,onChange:I,name:"pinLocation",value:"",label:a.createElement(h.Z,{source:"Don't announce."})})))),footer:a.createElement(r.Z,{justifyRight:!0},a.createElement(Z.Z,{buttonType:v.q.TEXT,onClick:C,className:S.actionButton},(0,c.t)("Cancel")),a.createElement(Z.Z,{submit:!0,disabled:A,buttonType:v.q.TEXT_PRIMARY,className:S.actionButton},A?a.createElement(b.Z,null):(0,c.t)("OK")))}))}}}]);