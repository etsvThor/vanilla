(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[3854],{18574:function(e,t,n){"use strict";n.d(t,{N5:function(){return w},ZP:function(){return P},ib:function(){return E}});var r=n(81253),a=n(92137),s=n(6610),i=n(5991),o=n(63349),u=n(10379),c=n(46070),l=n(77608),f=n(96156),d=n(87757),m=n.n(d),h=n(40798),p=n(99308),v=n(35138),b=n(64833);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var w,Z=(0,p.Jy)("@@themes");!function(e){e.PREVIEW="preview",e.APPLY="apply",e.CANCEL="cancel"}(w||(w={}));var P=function(e){(0,u.Z)(n,e);var t=g(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,o.Z)(e),"getAssets",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=e.getState(),i=s.theme;if(i.assets.data)return i.assets.data;var o=(0,h.KP)(n.getAssets,(0,a.Z)(m().mark((function n(){var a;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api.get("/themes/".concat(t),{params:{revisionID:r}});case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)}))))({themeKey:t,revisionID:r});return e.dispatch(o)})),(0,f.Z)((0,o.Z)(e),"forceVariables",(function(t){e.dispatch(n.forceVariablesAC(t)),(0,v.fR)()})),(0,f.Z)((0,o.Z)(e),"getAllThemes",(function(){var t=(0,h.KP)(n.getAllThemes_ACS,(0,a.Z)(m().mark((function t(){var n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.get("/themes");case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))();return e.dispatch(t)})),(0,f.Z)((0,o.Z)(e),"putCurrentTheme",(function(t){var r={themeID:t},s=(0,h.KP)(n.putCurrentThemeACs,(0,a.Z)(m().mark((function n(){var a;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api.put("/themes/current",r);case 2:return a=n.sent,(0,b.US)("ui.themeKey",t),(0,b.US)("ui.mobileThemeKey",t),n.abrupt("return",a.data);case 6:case"end":return n.stop()}}),n)}))))(r);return e.dispatch(s)})),(0,f.Z)((0,o.Z)(e),"putPreviewTheme",(function(t){var r=t.themeID,s=t.revisionID,i=(t.type,(0,h.KP)(n.putPreviewThemeACs,(0,a.Z)(m().mark((function t(){var n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.put("/themes/preview",{themeID:r,revisionID:s});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))(t));return e.dispatch(i)})),(0,f.Z)((0,o.Z)(e),"deleteTheme",(function(t){var r=(0,h.KP)(n.deleteThemeACs,(0,a.Z)(m().mark((function n(){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api.delete("/themes/".concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)}))))({themeID:t});return e.dispatch(r)})),(0,f.Z)((0,o.Z)(e),"patchThemeWithRevisionID",function(){var t=(0,a.Z)(m().mark((function t(n){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.patchTheme({themeID:n.themeID,revisionID:n.revisionID});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return(0,i.Z)(n,[{key:"getThemeRevisions",value:function(e){var t=this,r=(0,h.KP)(n.getThemeRevisions_ACs,(0,a.Z)(m().mark((function n(){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.get("/themes/".concat(e,"/revisions"));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)}))))({themeID:e});return this.dispatch(r)}},{key:"patchTheme",value:function(e){var t=this,s=(e.themeID,(0,r.Z)(e,["themeID"])),i=(0,h.KP)(n.patchTheme_ACs,(0,a.Z)(m().mark((function n(){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.patch("/themes/".concat(e.themeID),s);case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)}))))(e);return this.dispatch(i)}}]),n}(h.ZP);function E(){return(0,h.LO)(P)}(0,f.Z)(P,"getAssets",Z.async("GET")),(0,f.Z)(P,"forceVariablesAC",Z("FORCE_VARIABLES")),(0,f.Z)(P,"getAllThemes_ACS",Z.async("GET_ALL_THEMES")),(0,f.Z)(P,"putCurrentThemeACs",Z.async("PUT_CURRENT")),(0,f.Z)(P,"putPreviewThemeACs",Z.async("PUT_PREVIEW")),(0,f.Z)(P,"deleteThemeACs",Z.async("DELETE")),(0,f.Z)(P,"getThemeRevisions_ACs",Z.async("GET_THEME")),(0,f.Z)(P,"patchTheme_ACs",Z.async("PATCH_THEME"))},39567:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r,a=n(6610),s=n(5991),i=n(10379),o=n(46070),u=n(77608),c=n(74138),l=n(67294),f=n(14494),d=n(80522);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}!function(e){e.DESKTOP="logo",e.MOBILE="mobileLogo"}(r||(r={}));var h=function(e){(0,i.Z)(n,e);var t=m(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e,t,n=(0,d.d)().logo.desktop.url,a=(0,d.d)().logo.mobile.url,s=this.props.type===r.DESKTOP,i=s?n:a,o=null!==(e=null!==(t=this.props.overwriteLogo)&&void 0!==t?t:i)&&void 0!==e?e:this.props.logoUrl;return o?l.createElement("img",{className:this.props.className,src:o}):l.createElement(c.Jb,{className:this.props.className,isMobile:!s})}}]),n}(l.Component);function p(e,t){var n,a=e.theme.assets.data||{};return t===r.DESKTOP?n=a.logo||null:t===r.MOBILE&&(n=a.mobileLogo||null),n?n.url:null}t.Z=(0,f.$j)((function(e,t){return{logoUrl:p(e,t.type)}}))(h)},34056:function(e,t,n){"use strict";n.d(t,{f:function(){return T}});var r=n(28481),a=n(22964),s=n(17617),i=n(77798),o=n(10366),u=n(40798),c=n(18574),l=n(67294),f=n(14494),d=n(85061),m=n(99809),h=n(9803),p=n(75933),v=n.n(p),b=n(64833),g=n(41033),w=n(35138),Z={google:{families:["Open Sans:400,400italic,600,700"]}},P=!1;document.addEventListener(w.ov,(function(){P=!1}));var E=function(e,t){var n=(0,g.OF)(),r=e.name,a=void 0===r?g.em:r,s=e.weightNormal,i=void 0===s?n.fonts.weights.normal:s,o=e.weightSemiBold,u=void 0===o?n.fonts.weights.semiBold:o,c=e.weightBold,l=void 0===c?n.fonts.weights.bold:c;return"".concat(t?"https://fonts.googleapis.com/css?family=":"").concat(encodeURI(a),":").concat(i,",").concat(i,"italic,").concat(u,",").concat(l)},y=function(e){return e&&e.url&&""!==e.url&&e.name&&""!==e.name},R=function(e,t){var n=e.filter((function(e){return y(e)}));return{custom:{families:n.map((function(e){return e.name})),urls:n.map((function(e){return(0,b.pZ)("".concat(e.url,"?v=").concat((0,b.xZ)("context.cacheBuster")))}))}}};var x=n(45046),D=n(73727),I=n(76399),C=!1,T=function(e){var t=e.themeKey,n=e.disabled,p=e.variablesOnly,T=e.revisionID,O=(0,u.LO)(c.ZP).getAssets,A=(0,f.v9)((function(e){return e.theme})).assets,S=(0,i.bO)().setTopOffset,N=(0,w.lQ)().cacheID,L=(0,l.useState)({}),k=(0,r.Z)(L,2),F=(k[0],k[1]);return(0,l.useEffect)((function(){F(t)}),[t,F]),(0,l.useEffect)((function(){if(!n)if(A.status!==a.Px.PENDING){if(A.data&&!C){C=!0,(0,I.X)();var e=document.getElementById("themeHeader");if(e&&S(e.getBoundingClientRect().height),function(){if(!P){P=!0;var e=((0,h.ZP)().getState().theme.assets.data||{}).fonts,t=void 0===e?{data:[]}:e,n=(0,g.OF)(),r=n.fonts,a=r.forceGoogleFont,s=r.customFont,i=n.fonts.families[0],o=r.googleFontFamily||i;if(n.fonts.customFontUrl){var u=(0,m.Z)(n.fonts.families.body),c=u[0],l=u.slice(1);v().load(R([{name:c,url:n.fonts.customFontUrl,fallbacks:l}]))}else if(!a&&y(s)){var f=[s].concat((0,d.Z)([].concat((0,d.Z)(s.fallbacks),[g.em]).map((function(e){return{name:e,url:e===g.em?E({name:i},!0):""}})))).filter((function(e){return e&&s.name&&""!==s.name})),p={families:f.map((function(e){return e.name})),urls:f.map((function(e){return(0,b.pZ)("".concat(e.url,"?v=").concat((0,b.xZ)("context.cacheBuster")))}))};v().load({custom:p})}else if(a){var w={google:{families:["".concat(E({name:o}),"&display=swap")]}};v().load(w)}else if(t&&t.data&&t.data.length>0){var x=R(t.data);x.custom&&x.custom.urls&&x.custom.urls.length>0&&v().load(x)}else v().load(Z)}}(),p)return}}else O(t,T)}),[A,n,S,p,O,t,N]),e.disabled||e.variablesOnly?l.createElement(l.Fragment,null,e.children):[a.Px.PENDING,a.Px.LOADING].includes(A.status)?l.createElement(l.Fragment,null,l.createElement(x.Sj,null),!p&&l.createElement(o.Z,null)):A.status===a.Px.ERROR?l.createElement(l.Fragment,null,l.createElement(x.Sj,null),e.errorComponent):A.data?((0,s.N6)().applyInputCSSRules(),l.createElement(l.Fragment,null,l.createElement(D.VK,null,l.createElement(x.dv,null,l.createElement(x.Sj,null),e.children)))):null}},3773:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(9803),a=n(18452);function s(){var e=(0,r.ZP)().getState();if(null!==e){if(e.theme.forcedVariables)return e.theme.forcedVariables;if(!(0,a.ir)())return{};var t=e.theme.assets.data||{};return t.variables?t.variables.data:{}}return{}}},76399:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(94370);function a(){var e=document.getElementById("themeHeader"),t=document.getElementById("themeFooter");e&&!e.shadowRoot&&(0,r.UD)(e,!0),t&&!t.shadowRoot&&(0,r.UD)(t,!0)}},74534:function(e,t,n){"use strict";n.d(t,{xK:function(){return c}});var r,a=n(76983),s=n(18574),i=n(22964),o=n(87219);n(14494);!function(e){e.DB="themeDB",e.FS="themeFile"}(r||(r={}));var u={assets:{status:i.Px.PENDING},forcedVariables:null,themeRevisions:{status:i.Px.PENDING},upDateRevision:{status:i.Px.PENDING}},c=(0,o.ZP)((0,a.reducerWithInitialState)(u).case(s.ZP.getAssets.started,(function(e){return e.assets.status=i.Px.LOADING,e})).case(s.ZP.getAssets.done,(function(e,t){return e.assets.status=i.Px.SUCCESS,e.assets.data=t.result.assets,e})).case(s.ZP.getAssets.failed,(function(e,t){return t.error.response&&404===t.error.response.status?(e.assets.data={},e.assets.status=i.Px.SUCCESS,e):(e.assets.status=i.Px.ERROR,e.assets.error=t.error,e)})).case(s.ZP.forceVariablesAC,(function(e,t){return e.forcedVariables=t,e})).case(s.ZP.getThemeRevisions_ACs.started,(function(e,t){return e.themeRevisions.status=i.Px.LOADING,e})).case(s.ZP.getThemeRevisions_ACs.failed,(function(e,t){return e.themeRevisions&&(e.themeRevisions.status=i.Px.ERROR,e.themeRevisions.error=t.error),e})).case(s.ZP.getThemeRevisions_ACs.done,(function(e,t){return e.themeRevisions&&(e.themeRevisions.status=i.Px.SUCCESS,e.themeRevisions.data=t.result),e})).case(s.ZP.patchTheme_ACs.started,(function(e,t){return e.upDateRevision.status=i.Px.LOADING,e})).case(s.ZP.patchTheme_ACs.failed,(function(e,t){return e.upDateRevision.status=i.Px.ERROR,e.upDateRevision.error=t.error,e})).case(s.ZP.patchTheme_ACs.done,(function(e,t){e.upDateRevision.status=i.Px.SUCCESS,e.upDateRevision.data=t.result;var n=t.result,r=n.revisionID,a=n.themeID;return e.themeRevisions.data&&(e.themeRevisions.data=e.themeRevisions.data.map((function(e){return e.themeID!==a||(e.active=e.revisionID===r),e}))),e})))},40641:function(e,t,n){"use strict";n.d(t,{e:function(){return T},l:function(){return O}});var r=n(22122),a=n(28481),s=n(94184),i=n.n(s),o=n(67294),u=n(34098),c=n(58685),l=n(96156),f=n(41033),d=n(13901),m=n(35138),h=n(71055),p=n(92366),v=n(10389),b=n(67920),g=n(52571),w=n(85819),Z=n(40792);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,m.yI)((function(){var e=(0,d.Cg)("toolTips");(0,f.OF)();return{sizes:e("sizes",{min:150,max:250}),nub:e("nub",{width:12})}})),R=(0,m.yI)((function(){var e,t=(0,d.Y7)("toolTip"),n=(0,f.OF)(),r=y(),a=(0,g.kL)(),s=t("content",E({position:"relative",display:"inline-flex"},{"& *":{pointerEvents:"none"}})),i=t("noPointerTrigger",{pointerEvents:(0,w.ef)("initial"),position:"absolute",top:(0,w.aQ)(50),left:(0,w.aQ)(50),minWidth:(0,w.px)(45),minHeight:(0,w.px)(45),transform:"translate(-50%, -50%)",zIndex:1}),o=t("box",E(E(E(E(E({position:"absolute"},b.W.font(E(E({},n.fontSizeAndWeightVars("medium")),{},{lineHeight:n.lineHeights.base}))),{},{minWidth:(0,v.dd)(r.sizes.min),maxWidth:(0,v.dd)(r.sizes.max),backgroundColor:h.w.colorOut(n.mainColors.bg)},b.W.border()),b.W.padding({all:n.fonts.size.medium})),a.dropDown()),{},{zIndex:(0,Z.e)().sizing.zIndex+1})),u=t("nubPosition",E({position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",width:(0,v.dd)(2*r.nub.width),height:(0,v.dd)(2*r.nub.width),transform:(0,w.YP)("-50%"),marginLeft:(0,v.dd)(r.nub.width),pointerEvents:"none",zIndex:(0,Z.e)().sizing.zIndex+2},(0,p.userSelect)()));return{box:o,nub:t("nub",E({position:"relative",display:"block",width:(0,v.dd)(r.nub.width),height:(0,v.dd)(r.nub.width),borderTop:(0,p.singleBorder)({width:n.border.width}),borderRight:(0,p.singleBorder)({width:n.border.width}),boxShadow:n.overlay.dropShadow,background:h.w.colorOut(n.mainColors.bg),zIndex:1},(e={},(0,l.Z)(e,"&.isUp",{transform:"rotate(-45deg)"}),(0,l.Z)(e,"&.isDown",{transform:"rotate(135deg)"}),e))),nubPosition:u,noPointerContent:s,noPointerTrigger:i}})),x=n(23493),D=n.n(x),I=function(e,t){var n=y(),r=(0,f.OF)(),a=e.top-2*n.nub.width+2*r.border.width+window.scrollY,s=e.bottom-2*r.border.width+window.scrollY;return{left:e.left+e.width/2-n.nub.width,top:t?a:s}};function C(e){var t=(0,f.OF)(),n=e.children,s=e.label,l=e.ariaLabel,d=(0,u.lL)(),m=(0,a.Z)(d,2),h=m[0],p=m[1],v=p.isVisible,b=p.triggerRect,g=(0,o.useState)(!1),w=(0,a.Z)(g,2),Z=w[0],P=w[1],E=R(),x=y(),C=2*t.border.width,T=function(){var e=(0,o.useRef)(null),t=(0,o.useState)(!1),n=(0,a.Z)(t,2),r=n[0],s=n[1];return(0,o.useEffect)((function(){var t=D()((function(){e.current&&clearTimeout(e.current),s(!0),e.current=setTimeout((function(){s(!1)}),200)}),100);return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[]),r}();return o.createElement(o.Fragment,null,(0,o.cloneElement)(n,h),v&&!T&&b&&o.createElement(o.Fragment,null,o.createElement(c.Z,null,o.createElement("div",{className:E.nubPosition,style:I(b,Z)},o.createElement("div",{className:i()(E.nub,Z?"isDown":"isUp")}))),o.createElement(u.zG,(0,r.Z)({},p,{label:s,"aria-label":l||s,position:function(e,t){var n=x.nub.width/2,r=e.left+e.width/2-t.width/2,a=window.innerWidth-t.width-2,s=e.bottom+t.height+n>window.innerHeight;P(s);var i=e.top-t.height+C-x.nub.width+window.scrollY,o=e.bottom-C+x.nub.width+window.scrollY;return{left:Math.min(Math.max(2,r),a)+window.scrollX,top:s?i:o}},className:E.box}))))}function T(e){var t=e.children,n=e.label,r=e.ariaLabel;return o.createElement(C,{label:n,ariaLabel:r},t)}var O=o.forwardRef((function(e,t){var n=R();return o.createElement("span",(0,r.Z)({},e,{ref:t,tabIndex:0,className:n.noPointerContent}),o.createElement("span",{className:n.noPointerTrigger}),e.children)}))}}]);