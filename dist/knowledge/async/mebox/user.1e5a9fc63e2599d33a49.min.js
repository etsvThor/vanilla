(self.webpackChunkvanillaknowledge=self.webpackChunkvanillaknowledge||[]).push([[627],{21203:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(22241),o=n(91353),a=n(68102),s=n(15255),c=n(1643),u=n(6610),i=n(5991),l=n(10379),m=n(46070),f=n(77608),p=n(96156),d=n(67294),h=n(6292),E=n(94184),Z=n.n(E);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var y=function(e){(0,l.Z)(n,e);var t=v(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.children,r=e.count,o=n||t,a=!(!r||this.props.hideCountWhenZero&&0===this.props.count),u=(0,s.IJ)();return d.createElement(c.Z,this.props,d.createElement("span",{className:Z()("dropDownItem-text",u.text)},o),a&&d.createElement(h.ZP,{className:Z()("dropDownItem-count",u.count,this.props.countsClass),value:r}))}}]),n}(d.Component);(0,p.Z)(y,"defaultProps",{hideCountWhenZero:!0});var C=n(53341),D=n(35037),k=n(98674);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var P=function(e){(0,l.Z)(n,e);var t=N(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=(0,s.IJ)(),t=(0,k.qC)("sectionNavTitle");return d.createElement(d.Fragment,null,!this.props.noSeparator&&d.createElement(C.Z,null),d.createElement("li",{className:Z()("dropDown-section",e.section,this.props.className)},d.createElement("nav",{"aria-describedby":t},d.createElement(D.Z,{id:t,title:this.props.title,className:Z()("dropDown-sectionHeading",e.sectionHeading)}),d.createElement("ul",{className:Z()("dropDown-sectionContents",e.sectionContents)},this.props.children))))}}]),n}(d.Component),w=n(48670),R=n(93266),g=n(50674),b=n(96278),I=n(14494),B=n(64833);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Q=function(e){(0,l.Z)(n,e);var t=x(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props.currentUser.data,t=(0,B.tI)(e.name),n=(0,b.G)();return d.createElement("li",{className:Z()(n.userCard,"dropDown-userCard",this.props.className)},d.createElement(R.Z,{to:t,className:Z()("userDropDown-userCardPhotoLink",n.userCardPhotoLink)},d.createElement(w.cy,{className:Z()("userDropDown-userCardPhoto",n.userCardPhoto),userInfo:e,size:this.props.photoSize||w.pz.LARGE})),d.createElement(R.Z,{to:t,className:Z()("userDropDown-userCardName",n.userCardName)},e.name))}}]),n}(d.Component),S=(0,I.$j)(g.KQ)(Q);function M(){return d.createElement(o.ZP,{permission:"profiles.edit",fallback:d.createElement(d.Fragment,null,d.createElement(C.Z,null),d.createElement(c.Z,{to:"/profile/preferences",name:(0,B.t)("Edit Preferences")}))},d.createElement(C.Z,null),d.createElement(c.Z,{to:"/profile/edit",name:(0,B.t)("Edit Profile")}))}var O=n(7937),z=n(33706);var A=(0,I.$j)((function(e,t){return{userInfo:e.users.current.data?e.users.current.data:null,counts:e.users.countInformation.counts}}),(function(e){return{checkCountData:new a.Z(e,r.ZP).checkCountData}}))((function(e){var t=e.userInfo,n=(0,z.ab)(),r=(0,B.yq)();if(!t)return null;var a=function(t){var n=e.counts.find((function(e){return e.name===t}));return n?n.count:0},u=(0,s.IJ)(),i=(0,B.xZ)("reporting.url",null);return d.createElement("ul",{className:Z()(u.verticalPadding,e.className)},d.createElement(S,{className:"userDropDown-userCard"}),d.createElement(M,null),O.w.map((function(e,t){return d.createElement(e,{key:t,getCountByName:a})})),r.apps.forum?d.createElement(P,{title:(0,B.t)("Discussions")},d.createElement(y,{to:"/discussions/bookmarked",name:(0,B.t)("Bookmarks"),count:a("Bookmarks")}),d.createElement(o.ZP,{permission:"discussions.add"},d.createElement(y,{to:"/drafts",name:(0,B.t)("Drafts"),count:a("Drafts")})),d.createElement(y,{to:"/discussions/mine",name:(0,B.t)("My Discussions"),count:a("Discussions")})):null,d.createElement(o.ZP,{permission:["community.moderate"]},d.createElement(P,{title:(0,B.t)("Moderation")},d.createElement(y,{to:"/dashboard/user/applicants",name:(0,B.t)("Applicants"),count:a("Applicants")}),d.createElement(y,{to:"/dashboard/log/spam",name:(0,B.t)("Spam Queue"),count:a("SpamQueue")}),d.createElement(y,{to:"/dashboard/log/moderation",name:(0,B.t)("Moderation Queue"),count:a("ModerationQueue")}),i&&d.createElement(y,{to:i,name:(0,B.t)("Reported Posts")}))),d.createElement(C.Z,null),d.createElement(o.ZP,{permission:["site.manage","settings.view"]},d.createElement(c.Z,{to:"/dashboard/settings",name:(0,B.t)("Dashboard")})),d.createElement(c.Z,{to:n,name:(0,B.t)("Sign Out")}))}))}}]);