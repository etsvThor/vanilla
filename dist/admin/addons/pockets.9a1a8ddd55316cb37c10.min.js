var vanillaadmin;(self.webpackChunkvanillaadmin=self.webpackChunkvanillaadmin||[]).push([[8341],{82999:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var a=n(22122),l=n(67294),r=n(89927),i=n(27165);function u(e){var t=(0,r.i6)().isInline,n=e.excludeFromICheck,u=void 0===n||n;return l.createElement(i.Z,(0,a.Z)({},e,{excludeFromICheck:u,onChange:function(t){return e.onChange&&e.onChange(!!t.target.checked)},isHorizontal:t}))}},90302:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var a=n(22122),l=n(67294),r=n(94184),i=n.n(r);function u(e){return l.createElement("li",null,l.createElement("h2",(0,a.Z)({},e,{className:i()("subheading",e.className)})))}},59023:function(e,t,n){"use strict";n.d(t,{Er:function(){return v}});var a=n(22122),l=n(28481),r=n(64833),i=n(61793),u=n(67294),o=n(14494),c=n(22964),s=n(55897),m=n(40798),d=n(17239);function v(e,t){var n=(0,m.LO)(i.Z),a=(0,o.v9)((function(t){var n;return null!==(n=t.forum.categories.suggestionsByQuery[e])&&void 0!==n?n:{status:c.Px.PENDING}}));return(0,u.useEffect)((function(){(e||t)&&n.loadCategories(e)}),[e,t]),a}t.ZP=function(e){var t,n,i,o=(0,u.useState)(""),m=(0,l.Z)(o,2),f=m[0],p=m[1],g=(0,u.useState)(!1),h=(0,l.Z)(g,2),E=h[0],y=h[1],b=v(f,E),C=function(){y(!0)},w=e.multiple;b.status===c.Px.SUCCESS&&b.data&&(i=b.data.map((function(e){var t,n,a,l,r,i=null!==(t=null===(n=e.breadcrumbs)||void 0===n?void 0:n.length)&&void 0!==t?t:0;i>1&&(a=null===(l=e.breadcrumbs)||void 0===l||null===(r=l[i-2])||void 0===r?void 0:r.name);return{value:e.categoryID,label:e.name,data:{parentLabel:a}}})));var I,N=b.status===c.Px.LOADING;return w?u.createElement(d.N,(0,a.Z)({onFocus:C},e,{placeholder:(0,r.t)("Search..."),isLoading:N,onInputChange:p,label:null!==(I=e.label)&&void 0!==I?I:(0,r.t)("Community Category"),showIndicator:!0,options:i,maxHeight:e.maxHeight})):u.createElement(s.Z,(0,a.Z)({onFocus:C},e,{placeholder:(0,r.t)("Search..."),onInputChange:p,isLoading:N,onChange:function(t){e.onChange&&e.onChange([t])},options:i,label:null!==(t=e.label)&&void 0!==t?t:(0,r.t)("Community Category"),value:(null!==(n=e.value)&&void 0!==n?n:[])[0],maxHeight:e.maxHeight}))}},96542:function(e,t,n){"use strict";n.r(t);var a=n(18452),l=n(28481),r=n(67294),i=n(22122),u=n(96156),o=n(97613),c=n(14494),s=n(22964);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){var e=(0,o.Y)().getAllRoles,t=(0,c.v9)((function(e){return e.roles.rolesByID}));return(0,r.useEffect)((function(){t.status===s.Px.PENDING&&e()}),[e,t]),t}var f=n(61403),p=n(17239);function g(e){var t,n,a=v(),l=(n=v()).data?d(d({},n),{},{data:Object.values(n.data).map((function(e){return{value:e.roleID,label:e.name}}))}):d(d({},n),{},{data:void 0});return r.createElement(p.N,(0,i.Z)({},e,{value:e.value.map((function(e){var t,n=null===(t=a.data)||void 0===t?void 0:t[e];return n?{label:n.name,value:n.roleID}:null})).filter(f.Dw),onChange:function(t){var n=null==t?void 0:t.map((function(e){return e.value}));e.onChange(n)},options:null!==(t=l.data)&&void 0!==t?t:[],isLoading:[s.Px.PENDING,s.Px.LOADING].includes(l.status)}))}var h=n(16190),E=n(25807),y=n(61540);var b=n(59023),C=n(22163),w=n(17617),I=n(94184),N=n.n(I),Z=n(82999),k=n(89927);var O=n(85061),P=n(45462),S=n(37442);function D(e){return r.createElement("div",{className:"form-group"},r.createElement("div",{className:"label-wrap"},r.createElement(S.ZM,{width:"35%",height:14}),r.createElement(S.a5,{height:6}),r.createElement(S.ZM,{width:"80%",height:10}),2===e.descriptionLines&&r.createElement(r.Fragment,null,r.createElement(S.a5,{height:4}),r.createElement(S.ZM,{width:"56%",height:10}))),r.createElement("div",{className:"input-wrap"},r.createElement("input",{className:"form-control",disabled:!0,"aria-hidden":!0,tabIndex:-1,style:{background:"#fff"}})))}var x=n(90302),F=n(90484);function L(e){var t=e.formKey,n=e.value,a=e.flatten,i=t.replace(".","-dot-");if(null==n)return r.createElement("input",{type:"hidden",value:"",name:i,style:{display:"none"}});if("object"===(0,F.Z)(n)){if(a){var u=(0,f.FX)(n,t);return r.createElement(r.Fragment,null,Object.entries(u).map((function(e){var t=(0,l.Z)(e,2),n=t[0],a=t[1];return r.createElement(L,{key:n,formKey:n,value:a})})))}var o=JSON.stringify(n);return r.createElement("input",{type:"hidden",value:o,name:i,style:{display:"none"}})}return r.createElement("input",{type:"hidden",value:n,name:i,style:{display:"none"}})}var j=n(55293),T=n(47614),H=n(13819),M=n(53353),K=function(e){var t=(0,j.p)(),n=t.inputID,a=t.labelType,l=t.labelID,u=a===T.C.WIDE?"input-wrap-right":"input-wrap";return r.createElement("div",{className:N()(u)},r.createElement(M.G,(0,i.Z)({},e,{label:null,labelID:l,inputID:n,inputClassName:N()("form-control",e.inputClassName)})),e.errors&&r.createElement(H.Z,{errors:e.errors}))},V=n(2430),B=n(64833),G=n(17495);function W(e){return 0===Object.entries(e.schema).length?r.createElement("div",null,(0,B.t)("There are no configuration options for this widget.")):r.createElement(G.JsonSchemaForm,(0,i.Z)({},e,{autoValidate:!0,FormSection:function(e){var t=e.title,n=e.children;return r.createElement(r.Fragment,null,t&&r.createElement(x.X,null,t),n)},FormControl:V.c,FormControlGroup:function(e){return r.createElement(V.k,(0,i.Z)({},e,{sideBySide:!0}))}}))}var A={searchUrl:"/widgets",singleUrl:"/widgets/%s",valueKey:"widgetID",labelKey:"name",excludeLookups:["raw"],processOptions:function(e){return[{label:(0,E.t)("Custom HTML"),value:"raw"}].concat((0,O.Z)(e))}};(0,a.Tk)("pocket-multi-role-input",(function(e){var t=(0,r.useState)(e.initialValue&&""!==e.initialValue?e.initialValue:[]),n=(0,l.Z)(t,2),a=n[0],i=n[1];return r.createElement(h.r,{label:(0,E.t)("Roles"),tag:"div"},r.createElement("div",{className:"input-wrap"},r.createElement(g,{showIndicator:!0,className:(0,y.L)().tokenInput,label:"",value:null!=a?a:[],onChange:function(e){i(null!=e?e:[])},menuPlacement:"auto"})),!a||0===a.length&&r.createElement("input",{name:e.fieldName+[],type:"hidden",value:[]}),a&&a.map((function(t,n){return r.createElement("input",{key:n,name:e.fieldName+"[]",type:"hidden",value:t})})))})),(0,a.Tk)("pocket-category-input",(function(e){var t=(0,r.useState)(e.label&&e.initialValue?{label:e.label,value:e.initialValue}:void 0),n=(0,l.Z)(t,2),a=n[0],i=n[1],u=(0,r.useState)(e.inheritCategory),o=(0,l.Z)(u,2),c=o[0],s=o[1],m=(0,C.t)();(0,w.N6)().applyInputCSSRules();var d=a&&a.value;return r.createElement(h.r,{label:(0,E.t)("Category"),tag:"div"},r.createElement("div",{className:"input-wrap"},r.createElement("div",{className:m.inputWrap},r.createElement(b.ZP,{placeholder:(0,E.t)("Select..."),label:null,className:(0,y.L)().selectOne,onChange:function(e){i(e[0])},value:a?[a]:[]})),r.createElement("input",{name:e.fieldName,type:"hidden",value:null!=d?d:""}),r.createElement("div",{className:N()("checkbox",m.checkBoxAfterInput)},r.createElement(k.U7,null,r.createElement(Z.S,{checked:!!d&&c,onChange:function(){s(!c)},label:(0,E.t)("Apply to subcategories"),disabled:!d}))),r.createElement("input",{name:"InheritCategory",type:"hidden",value:"".concat(c?1:0)})))})),(0,a.Tk)("PocketContentForm",(function(e){var t,n,a=e.initialWidgetParameters,i=e.initialBody,u="widget"===e.format&&e.widgetID?e.widgetID:"raw",o=(0,r.useState)("raw"===u?{label:(0,E.t)("Custom HTML"),value:"raw"}:null),c=(0,l.Z)(o,2),s=c[0],m=c[1],d=(0,r.useState)(0),v=(0,l.Z)(d,2),f=v[0],p=v[1],g=(0,r.useState)(null!==(t=e.initialWidgetParameters)&&void 0!==t?t:{}),y=(0,l.Z)(g,2),b=y[0],C=y[1],w=(0,r.useState)(""),I=(0,l.Z)(w,2),N=I[0],Z=I[1];return(0,r.useEffect)((function(){C(null!=a?a:{}),p((function(e){return e+1}))}),[a]),(0,r.useEffect)((function(){Z(null!=i?i:""),p((function(e){return e+1}))}),[i]),r.createElement(r.Fragment,null,r.createElement("ul",null,r.createElement(h.r,{label:(0,E.t)("Type"),description:(0,E.t)("Create your own custom Pocket, or configure one of our existing widgets.")},"raw"===(null==s?void 0:s.value)?r.createElement(L,{formKey:"Format",value:s.value}):r.createElement(r.Fragment,null,r.createElement(L,{formKey:"Format",value:"widget"}),r.createElement(L,{formKey:"WidgetID",value:null==s?void 0:s.value})),r.createElement(K,{onChange:function(e){m(e)},isClearable:!1,onInitialValueLoaded:m,value:null!==(n=null==s?void 0:s.value)&&void 0!==n?n:u,api:A}))),!s||e.forceLoading?r.createElement("ul",null,r.createElement(x.X,null,r.createElement(S.ZM,{height:18,width:"200px"})),r.createElement(D,{descriptionLines:2}),r.createElement(D,null),r.createElement(D,null)):r.createElement("section",null,r.createElement(x.X,null,s.label),"raw"===s.value?r.createElement(h.r,{label:(0,E.t)("Custom HTML"),description:(0,E.t)("Enter the text of the pocket. This will be output exactly as you type it so make sure that you enter valid HTML.")},r.createElement(P.Y.Uncontrolled,{key:f,inputName:"Body",initialValue:N})):r.createElement(r.Fragment,null,r.createElement(W,{key:f,schema:s.data.schema,onChange:C,instance:b}),r.createElement(L,{formKey:"WidgetParameters",value:b}))))}),{bypassPortalManager:!0,unmountBeforeRender:!0})}},function(e){"use strict";var t=function(t){return e(e.s=t)};e.O(0,[8780,5163,9833,5852,6936,9494,7014,3269,8520,7061,8317,8614,1385,5096,9283,2053,8089,6337,9841,5677,390,5449,2387,4926,3432,3079,4682,4065,3509,3360,4211,2492,7086,2167,7025,924,4401,1628,9584,2004,1467,3484,298],(function(){return t(2702),t(96542)}));var n=e.O();vanillaadmin=n}]);