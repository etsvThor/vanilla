(self.webpackChunkvanillaadmin=self.webpackChunkvanillaadmin||[]).push([[298],{45462:function(e,t,n){"use strict";n.d(t,{Y:function(){return p},k:function(){return f}});var r=n(22122),o=n(28481),a=n(81253),i=n(55293),l=n(55561),u=n(51467),c=n(61403),s=n(67294);function p(e){var t,n=e.value,r=e.onChange,o=e.inputName,a=e.language,u=e.jsonSchemaUri,c=(0,i.p)(),p=null!==(t=e.inputID)&&void 0!==t?t:c.inputID;return s.createElement("div",{className:"input-wrap"},s.createElement("input",{id:p,name:o,type:"hidden",value:n||"","aria-hidden":!0}),s.createElement(l.Z,{minimal:!0,language:null!=a?a:"text/html",jsonSchemaUri:u,value:n,onChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return r(null!=t?t:"")}))}))}function f(){document.querySelectorAll(".js-code-editor").forEach((function(e){if(e instanceof HTMLTextAreaElement){e.classList.remove("js-code-editor");var t=e.value;(0,u.Sy)(s.createElement(p.Uncontrolled,{initialValue:t,inputName:e.name,inputID:e.id}),e,void 0,{overwrite:!0})}else(0,c.KE)("Cannot mount a js-code-editor if it's not a <textarea />")}))}p.Uncontrolled=function(e){e.initialValue;var t=(0,a.Z)(e,["initialValue"]),n=(0,s.useState)(e.initialValue),i=(0,o.Z)(n,2),l=i[0],u=i[1];return s.createElement(p,(0,r.Z)({value:l||"",onChange:u},t))}},2430:function(e,t,n){"use strict";n.d(t,{c:function(){return K},k:function(){return H}});var r=n(28481),o=n(45462),a=n(16190),i=n(70044),l=n(15420),u=n(89927),c=n(37154),s=n(22241),p=n(98674),f=n(67294),d=n(97133);n(75468).KF,n(94184);var m=n(22122);function v(e){return f.createElement("svg",(0,m.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 6",width:8},e),f.createElement("title",null,"â–¾"),f.createElement("polygon",{points:"0 0 10 0 5 6 0 0",fill:"currentColor"}))}var h=n(81253),g=n(96156),b=n(28017);n(60075);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.size,n=void 0===t?"default":t;return{arrowButton:(0,d.iv)({name:"ajogt0-AutoComplete-styles-arrowButton",styles:";label:AutoComplete-styles-arrowButton;"}),inputContainer:(0,d.iv)({name:"1mvzx2k-AutoComplete-styles-inputContainer",styles:"position:relative;label:AutoComplete-styles-inputContainer;"}),inputActions:(0,d.iv)(C({display:"flex",pointerEvents:"none",flexDirection:"row-reverse",alignItems:"stretch",position:"absolute",top:0,right:0,bottom:0},{small:{padding:"0 8px"},default:{padding:"0 12px"}}[n]),";label:AutoComplete-styles-inputActions;"),popover:(0,d.iv)({name:"1016tve-AutoComplete-styles-popover",styles:"&[data-reach-combobox-popover]{z-index:9999;background:#fff;border:0;border-radius:6px;box-shadow:0 5px 10px 0 rgba(0, 0, 0, 0.3);max-height:300px;overflow:auto;}&[data-autocomplete-state=selected] [data-user-value]{font-weight:inherit;};label:AutoComplete-styles-popover;"}),option:(0,d.iv)({display:"flex","&[data-reach-combobox-option]":C(C({},{small:{padding:"6px 8px",fontSize:"13px"},default:{padding:"8px 12px",fontSize:"16px"}}[n]),{},{"&:hover, &[data-highlighted]":{background:"rgba(3,125,188,0.08)"}}),"[data-suggested-value]":{fontWeight:"inherit"},"[data-user-value]":{fontWeight:600},svg:C({position:"relative"},{small:{width:18,right:-3},default:{width:24,right:-4}}[n])},";label:AutoComplete-styles-option;"),optionText:(0,d.iv)({name:"1qshxqz-AutoComplete-styles-optionText",styles:"flex:1;label:AutoComplete-styles-optionText;"}),autoCompleteArrow:(0,d.iv)({name:"16swv5b-AutoComplete-styles-autoCompleteArrow",styles:"display:flex;label:AutoComplete-styles-autoCompleteArrow;"}),autoCompleteClear:(0,d.iv)({name:"srqneg-AutoComplete-styles-autoCompleteClear",styles:"display:flex;pointer-events:auto;cursor:pointer;label:AutoComplete-styles-autoCompleteClear;"}),input:(0,d.iv)({name:"zqvst4-AutoComplete-styles-input",styles:"cursor:default;label:AutoComplete-styles-input;"})}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){return f.createElement("svg",(0,m.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e,{width:24}),f.createElement("title",null,"X"),f.createElement("path",{fill:"currentColor",d:"M12,5a7,7,0,1,0,7,7A7,7,0,0,0,12,5Zm2.873,5.244L13.118,12l1.755,1.756a.337.337,0,0,1,0,.479l-.638.638a.337.337,0,0,1-.479,0L12,13.118l-1.756,1.755a.337.337,0,0,1-.479,0l-.638-.638a.337.337,0,0,1,0-.479L10.882,12,9.127,10.244a.337.337,0,0,1,0-.479l.638-.638a.337.337,0,0,1,.479,0L12,10.882l1.756-1.755a.337.337,0,0,1,.479,0l.638.638A.337.337,0,0,1,14.873,10.244Z"}))}var Z=f.createContext({inputState:{status:"initial",value:""},setInputState:function(){}});function S(e){return f.createElement("svg",(0,m.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e,{width:24}),f.createElement("g",{fill:"none",fillRule:"evenodd"},f.createElement("g",{fill:"#037DBC"},f.createElement("g",null,f.createElement("g",null,f.createElement("path",{d:"M7.5 11.5L6 13 10 17 19 8.5 17.5 7 10 14z",transform:"translate(-1280.000000, -2642.000000) translate(946.000000, 2367.000000) translate(334.000000, 275.000000)"}))))))}var j=f.forwardRef((function(e){var t=e.value,n=e.label,r=void 0===n?t:n,o=(0,h.Z)(e,["value","label"]),a=(0,f.useContext)(Z),i=a.size,l=a.value,u=w({size:i}),c=t==l;return f.createElement(b.O2,(0,m.Z)({},o,{className:(0,d.cx)(u.option,e.className),"data-autocomplete-selected":c||void 0,value:r}),f.createElement("div",{className:u.optionText},f.createElement(b.Lv,null)),c&&f.createElement(S,null))})),P=n(85061),A=n(27361),D=n.n(A),k=n(23279),I=n.n(k),F=n(25807),N=n(61403),L=new Map;function z(e){var t=e.lookup,n=e.api,o=(0,f.useContext)(Z),a=o.inputState,i=o.value,l=o.setOptions,u=o.setInputState,c=(0,f.useState)(""),s=(0,r.Z)(c,2),p=s[0],d=s[1],m=(0,f.useState)(i),v=(0,r.Z)(m,1)[0],h=function(e,t,n,o,a){var i,l=(0,f.useState)(null),u=(0,r.Z)(l,2),c=u[0],s=u[1],p=(0,f.useState)(null),d=(0,r.Z)(p,2),m=d[0],v=d[1],h=e.searchUrl,g=e.singleUrl,b=e.resultsKey,y=void 0===b?".":b,C=e.labelKey,w=void 0===C?"name":C,E=e.valueKey,O=void 0===E?"name":E,x=e.processOptions,Z=e.excludeLookups;(0,f.useDebugValue)({options:c,api:e,apiCaches:L});var S=(0,f.useCallback)((function(e){return{label:String(D()(e,w,(0,F.t)("(Untitled)"))),value:"."===O?e:D()(e,O,""),data:e}}),[w,O]);(0,f.useEffect)((function(){if(a&&!(null!=Z?Z:[]).includes(a)){var e=g.replace("/api/v2","").replace("%s",a);t.get(e).then((function(e){if(e.data){var t=[S(e.data)];x&&(t=x(t)),v(t[0])}}))}}),[]);var j=(0,f.useCallback)(I()((function(e){var n=h.replace("/api/v2","").replace("%s",e.toString()),r=L.get(n);r?s(r):t.get(n).then((function(e){var t=e.data,r=("."===y?t:D()(t,y,"[]")).map(S);x&&(r=x(r)),L.set(n,r),s(r)}))}),200),[h,g,x]);(0,f.useEffect)((function(){j(o)}),[j,o]);var A=null!==(i=[m].concat((0,P.Z)(c||[])).filter(N.Dw).find((function(e){return e.value===n})))&&void 0!==i?i:null;return[c,A]}(t,n,i,p,v),g=(0,r.Z)(h,2),b=g[0],y=g[1],C=!!v&&!y||null===b;return(0,f.useEffect)((function(){var e,t;"suggesting"!==a.status&&u({status:"selected",value:null!==(e=null!==(t=null==y?void 0:y.label)&&void 0!==t?t:null==y?void 0:y.value)&&void 0!==e?e:""})}),[y,a.status]),(0,f.useEffect)((function(){"suggesting"===a.status&&d(a.value)}),[a]),(0,f.useEffect)((function(){!C&&b&&l&&l(b)}),[C,l,b]),null}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(){var e=(0,f.useContext)(Z).size,t=w({size:e});return f.createElement("div",{className:t.autoCompleteArrow},f.createElement(v,null))}function T(e){var t=e.onClear,n=(0,f.useContext)(Z).size,r=w({size:n});return f.createElement("div",{className:r.autoCompleteClear,tabIndex:0,role:"button",onClick:t,onKeyDown:function(e){switch(e.key){case" ":case"Enter":t()}}},f.createElement(x,{style:{color:"#777a80"}}))}function U(e,t){return{options:e,optionByValue:e.reduce((function(e,t){return B(B({},e),{},(0,g.Z)({},t.value,t))}),{}),optionByLabel:e.reduce((function(e,t){var n;return B(B({},e),{},(0,g.Z)({},null!==(n=t.label)&&void 0!==n?n:t.value,t))}),{}),optionProvider:t}}var q=[j],G=[z],V=f.forwardRef((function(e,t){var n,o,a=e.value,i=e.clear,l=e.disabled,u=e.autoFocus,c=e.size,s=e.children,p=e.onChange,v=e.onSearch,g=(0,h.Z)(e,["value","clear","disabled","autoFocus","size","children","onChange","onSearch"]),y=w({size:c}),C=function(e){var t=e.size,n=void 0===t?"default":t;return{input:(0,d.iv)(O(O({borderRadius:6,color:"#3c4146",border:"solid 1px #bfcbd8",backgroundColor:"#ffffff"},{small:{height:28,lineHeight:"28px",padding:"0 8px",fontSize:"13px"},default:{height:36,lineHeight:"36px",padding:"0 12px",fontSize:"16px"}}[n]),{},{"&:focus":{borderColor:"#037dbc",outline:"none"}}),";label:input-styles-input;"),numberContainer:(0,d.iv)({name:"1vm1vls-input-styles-numberContainer",styles:"display:inline-block;position:relative;label:input-styles-numberContainer;"}),spinner:(0,d.iv)(O(O({position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",width:"50%",height:"100%"},{small:{maxWidth:20},default:{maxWidth:27}}[n]),{},{"& > button":{borderLeft:"solid 1px #bfcbd8",height:"50%",lineHeight:1,fontSize:11,"&:hover":{background:"#bfcbd82e"},"&:first-of-type":{borderBottom:"solid 1px #bfcbd8",borderRadius:"0 6 0 0"},"&:last-of-type":{borderRadius:"0 0 6 0",marginTop:"-2px"}}}),";label:input-styles-spinner;")}}({size:c}),E=(0,f.useState)(),x=(0,r.Z)(E,2),S=x[0],P=x[1],A=(0,f.useMemo)((function(){if(S)return U(S);var e,t=[];return f.Children.forEach(s,(function(n){if(n&&q.includes(n.type))t.push(n.props);else if(n&&G.includes(n.type))e=n;else if(n)throw new Error("".concat(n.type.name," is not supported by AutoComplete"))})),U(t,e)}),[s,S]),D=A.options,k=A.optionByValue,I=A.optionByLabel,F=A.optionProvider,N=null!==(n=k&&(null===(o=k[a])||void 0===o?void 0:o.label))&&void 0!==n?n:String(null!=a?a:""),L=(0,f.useState)({status:"initial",value:N}),z=(0,r.Z)(L,2),M=z[0],B=z[1],V=(0,f.useMemo)((function(){var e;if("suggesting"!==M.status)return D;var t=String(null!==(e=M.value)&&void 0!==e?e:"").trim().toLowerCase().split(/[ +]/);return(null!=D?D:[]).map((function(e){var n,r,o=(null!==(n=e.label)&&void 0!==n?n:String(null!==(r=e.value)&&void 0!==r?r:"")).toLowerCase();return{option:e,matches:t.filter((function(e){return o.includes(e)})).length}})).filter((function(e){e.option;return e.matches>0})).sort((function(e,t){return t.matches-e.matches})).map((function(e){return e.option}))}),[M,D]);(0,f.useEffect)((function(){B(N?{status:"selected",value:N}:{status:"initial",value:""})}),[N]);var K=(0,f.useCallback)((function(){p&&p(void 0)}),[p]),H=(0,f.useCallback)((function(e){var t=I[e].value;p&&p(t)}),[p,I]),W=(0,f.useCallback)((function(e){B({status:"suggesting",value:e.target.value}),v&&v(e.target.value)}),[v]),Q=(0,f.useCallback)((function(e){B(N?{status:"selected",value:N}:{status:"initial",value:""})}),[N]),Y=(0,f.useMemo)((function(){return{onClear:K,inputState:M,setInputState:B,value:a,size:c,setOptions:P}}),[M,K,a,c]);return f.createElement(Z.Provider,{value:Y},f.createElement(b.hQ,{onSelect:H,ref:t,openOnFocus:!0},f.createElement("div",{className:y.inputContainer},f.createElement(b.gA,(0,m.Z)({},g,{disabled:l,autoFocus:u,onChange:W,onBlur:Q,value:String(M.value),className:(0,d.cx)(C.input,y.input,e.inputClassName)})),f.createElement("div",{className:y.inputActions},f.createElement(R,null),i&&a&&f.createElement(T,{onClear:K}))),f.createElement(b.SF,{className:(0,d.cx)(y.popover,e.popoverClassName),"data-autocomplete-state":M.status},f.createElement(b.Gk,null,V.map((function(e){return f.createElement(j,(0,m.Z)({key:e.value},e,{onMouseDown:function(){var t;H(null!==(t=e.label)&&void 0!==t?t:e.value)}}))}))))),F)}));function K(e){var t,n=e.control,a=e.required,d=e.disabled,m=e.instance,v=e.schema,h=e.onChange,g=null!=m?m:v.default,b=(0,p.hu)("input");switch(n.inputType){case"textBox":var y="textarea"===n.type,C="number"===n.type,w="url"===n.type,E=C?"number":w?"url":"text";return f.createElement(i.D,{inputProps:{value:null!=g?g:"",disabled:d,onChange:function(e){return h(e.target.value)},maxLength:"string"===v.type?v.maxLength:void 0,type:y?void 0:E,placeholder:n.placeholder,multiline:!!y},multiLineProps:y?{rows:4}:void 0});case"codeBox":return f.createElement(o.Y,{value:g,onChange:h,language:n.language||"text/html",jsonSchemaUri:n.jsonSchemaUri});case"radio":return f.createElement(u.U7,{value:g,onChange:h},Object.entries(null!==(t=n.choices.staticOptions)&&void 0!==t?t:[]).map((function(t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];return f.createElement(l.U,{disabled:e.disabled,name:b,key:o,label:a,value:o})})));case"dropDown":var O=n.choices,x=O.api,Z=O.staticOptions;return f.createElement("div",{className:"input-wrap"},f.createElement(V,{value:g,clear:!a,placeholder:n.placeholder,onChange:function(e){h(e)}},x&&f.createElement(z,{api:s.ZP,lookup:x}),Z&&Object.entries(Z).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return f.createElement(j,{key:n,value:n,label:String(o)})}))));case"checkBox":case"toggle":return f.createElement(c.A,{disabled:e.disabled,checked:g,onChange:h});default:return f.createElement("div",null,n.inputType," is not supported")}}function H(e){var t=e.children,n=e.controls,r=(e.sideBySide,e.inputID,n[0]),o=r.label,i=r.description;return f.createElement(a.r,{label:null!=o?o:"",description:i},t)}},70044:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(67294),o=n(55293),a=n(94184),i=n.n(a),l=n(47614),u=n(52046),c=n(13819),s=function(e){var t=(0,o.p)(),n=t.inputID,a=t.labelType,s=i()(e.className),p=a===l.C.WIDE?"input-wrap-right":"input-wrap";return r.createElement("div",{className:p},r.createElement(u.Z,{id:n,inputProps:e.inputProps,multiLineProps:e.multiLineProps,className:i()(e.inputProps?e.inputProps.className:null,s),noMargin:!0}),e.errors&&r.createElement(c.Z,{errors:e.errors}),e.afterInput)}},15420:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var r=n(22122),o=n(67294),a=n(89927),i=n(95116),l=n(59697),u=n(94184),c=n.n(u);function s(e){var t=(0,a.i6)(),n=t.onChange,u=t.value,s=t.isInline,p=void 0!==n?{onChange:function(){return n(e.value)},checked:u===e.value}:{};return o.createElement(i.Z,(0,r.Z)({},e,p,{isHorizontal:s,className:c()(e.className,(0,l.Q)().isDashboard)}))}},89927:function(e,t,n){"use strict";n.d(t,{i6:function(){return s},U7:function(){return p}});var r=n(67294),o=n(55293),a=n(94184),i=n.n(a),l=n(51467),u=n(47614),c=r.createContext(null);function s(){var e=(0,r.useContext)(c),t=(0,l._m)();return null===e&&t(new Error("Attempting to use a radio group without specifying a group. Be sure to wrap it in a <DashboardRadioGroup />")),e}function p(e){var t=(0,o.p)(),n=t.labelID,a=t.labelType===u.C.WIDE?"input-wrap-right":"input-wrap",l=e.type||"radioogroup";return r.createElement(c.Provider,{value:e},r.createElement("div",{className:i()(a,{inline:e.isInline},{grid:e.isGrid}),role:l,"aria-labelledby":n},e.children))}},37154:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r=n(67294),o=n(55293),a=n(47614),i=n(94184),l=n.n(i),u=n(51305),c=n(13819),s=n(61540),p=n(97133);function f(e){var t=(0,r.useContext)(o.P),n=(0,s.L)(),i=t||{},f=i.inputID,d=i.labelType===a.C.WIDE?"input-wrap-right":"input-wrap";return r.createElement("div",{className:(0,p.cx)(d,e.disabled&&n.disabled)},r.createElement("label",{className:l()("toggle-wrap",{"toggle-wrap-on":e.checked,"toggle-wrap-off":!e.checked})},r.createElement("div",{className:l()({"toggle-wrap-active":e.inProgress})},r.createElement("input",{disabled:e.disabled||e.inProgress,id:f,type:"checkbox",className:l()((0,u.visibility)().visuallyHidden,"toggle-input"),checked:e.checked,onChange:function(t){return e.onChange(!!t.target.checked)}}),r.createElement("div",{className:"toggle-well"}),r.createElement("div",{className:"toggle-slider"}))),e.errors&&r.createElement(c.Z,{errors:e.errors}))}},97613:function(e,t,n){"use strict";n.d(t,{$:function(){return v},Y:function(){return h}});var r=n(92137),o=n(6610),a=n(63349),i=n(10379),l=n(46070),u=n(77608),c=n(96156),s=n(87757),p=n.n(s),f=n(40798);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var m=(0,n(99308).ZP)("@@roles"),v=function(e){(0,i.Z)(n,e);var t=d(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),(0,c.Z)((0,a.Z)(e),"getAllRoles",(function(){var t=(0,f.KP)(n.getAllACs,(0,r.Z)(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.get("/roles",{params:{limit:500}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))))({});return e.dispatch(t)})),e}return n}(f.ZP);function h(){return(0,f.LO)(v)}(0,c.Z)(v,"getAllACs",m.async("GET_ALL"))},61793:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(92137),o=n(6610),a=n(63349),i=n(10379),l=n(46070),u=n(77608),c=n(96156),s=n(87757),p=n.n(s),f=n(40798),d=n(99308),m=n(22964),v=n(23279),h=n.n(v);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var b=(0,d.ZP)("@@categorySuggestions"),y=function(e){(0,i.Z)(n,e);var t=g(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),(0,c.Z)((0,a.Z)(e),"internalLoadCategories",(function(t){var o,a=null!==(o=e.getState().forum.categories.suggestionsByQuery[t])&&void 0!==o?o:{status:m.Px.PENDING};if(a.status!==m.Px.LOADING&&a.status!==m.Px.SUCCESS){var i=(0,f.KP)(n.loadCategories,(0,r.Z)(p().mark((function n(){var r,o;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={query:t,expand:["breadcrumbs"]},n.next=3,e.api.get("/categories/search",{params:r});case 3:return o=n.sent,n.abrupt("return",o.data);case 5:case"end":return n.stop()}}),n)}))))({query:t});return e.dispatch(i)}})),(0,c.Z)((0,a.Z)(e),"loadCategories",h()(e.internalLoadCategories,100)),e}return n}(f.ZP);(0,c.Z)(y,"loadCategories",b.async("GET"))},17495:function(e,t,n){"use strict";n.d(t,{JsonSchemaForm:function(){return D}});var r=n(22122),o=n(28481),a=n(67294),i=n(85061),l=n(96156),u=n(61403);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t,n=e.rootInstance,o=e.instance,i=e.schema,u=e.rootSchema,c=e.path,p=e.FormTabs,f=e.onChange,d=i["x-control"],m=d.property,v=i.oneOf.map((function(e){return e.properties[m].const})),h=null!==(t=o[m])&&void 0!==t?t:v[0],g=i.oneOf.map((function(t){var n=t.properties[m].const;return{tabID:n,contents:a.createElement(A,(0,r.Z)({},e,{inheritSchema:i,schema:t})),label:d.choices.staticOptions[n]}}));return p?a.createElement(p,{tabs:g,selectedTabID:h,onSelectTab:function(e){return f(s(s({},o),{},(0,l.Z)({},m,e)))},path:c,rootInstance:n,instance:o,rootSchema:u,schema:i}):null}var f=n(81253),d=n(87219),m=n(27361),v=n.n(m),h=n(36968),g=n.n(h),b=n(90484),y=n(46484),C=n.n(y),w=new(C())({strict:!1});function E(e,t){var n=e.flatMap((function(e){try{var n=v()(t,e.field);if(!w.validate(e,n))return[e]}catch(t){return[e]}return[]}));return{isValid:!n.length,conditions:n}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.entries(e).flatMap((function(e){var n=(0,o.Z)(e,2),r=n[0],a=n[1];return"string"==typeof a?(a.match(/{[^}]+}/g)||[]).map((function(e){var n=e.substr(1,e.length-2).split(".");return{path:[].concat((0,i.Z)(t),[r]),ref:n}})):"object"===(0,b.Z)(a)?O(a,[].concat((0,i.Z)(t),[r])):[]}))}function x(e){var t=e.FormControl,n=(0,f.Z)(e,["FormControl"]),o=n.control,i=n.rootInstance,l=(n.path,o.conditions),c=a.useMemo((function(){return O(o)}),[o]),s=a.useMemo((function(){return c.map((function(e){var t=e.ref;try{var n=v()(i,t);return void 0===n?"":n}catch(e){return""}}))}),[i,c]),p=a.useMemo((function(){return(0,d.ZP)(o,(function(e){c.forEach((function(t,n){var r=t.path,o=t.ref,a=v()(e,r),i=s[n],l=a.replace("{".concat(o.join("."),"}"),i);g()(e,r,l)}))}))}),[(0,u.Q6)(s),c]),m=E(null!=l?l:[],i).conditions.some((function(e){return e.disable}));return a.createElement(t,(0,r.Z)({},n,{disabled:m,control:p}))}function Z(e){var t=e.Form,n=e.children,o=(0,f.Z)(e,["Form","children"]),i=o.form,l=o.rootInstance,c=(o.path,a.useMemo((function(){return O(i)}),[i])),s=a.useMemo((function(){return c.map((function(e){var t=e.ref;try{var n=v()(l,t);return void 0===n?"":n}catch(e){return""}}))}),[l,c]),p=a.useMemo((function(){return(0,d.ZP)(i,(function(e){c.forEach((function(t,n){var r=t.path,o=t.ref,a=v()(e,r),i=s[n],l=a.replace("{".concat(o.join("."),"}"),i);g()(e,r,l)}))}))}),[(0,u.Q6)(s),c]);return t?a.createElement(t,(0,r.Z)({},o,{form:p}),n):null}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){return a.createElement(a.Fragment,null,e.children)};function A(e){var t,n=e.path,r=e.rootSchema,c=e.instance,s=e.rootInstance,f=e.onChange,d=e.validation,m=e.FormControl,v=e.Form,h=void 0===v?P:v,g=e.FormSection,b=void 0===g?P:g,y=e.FormControlGroup,C=void 0===y?P:y,w=e.inheritSchema?j(j({},e.inheritSchema),e.schema):e.schema,O=w["x-form"],S=e.schema["x-control"],D=S&&(Array.isArray(S)?S:[S]);if("object"===w.type&&!Array.isArray(S)&&"tabs"===(null==S?void 0:S.inputType))return a.createElement(p,e);if(!("object"!==w.type||D&&null!==(t=D[0])&&void 0!==t&&t.inputType)){var k,I=null!==(k=w.required)&&void 0!==k?k:[],F=null;!Array.isArray(S)&&null!=S&&S.label&&(F=null==S?void 0:S.label);var N=a.createElement(b,{path:n,title:F,instance:c,rootInstance:s,schema:w,rootSchema:r,validation:d},Object.entries(w.properties).map((function(e){var t=(0,o.Z)(e,2),u=t[0],p=t[1];return a.createElement(A,{key:u,path:[].concat((0,i.Z)(n),[u]),schema:p,rootSchema:r,instance:null==c?void 0:c[u],rootInstance:s,Form:h,FormSection:b,FormControl:m,FormControlGroup:C,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){f(j(j({},c),{},(0,l.Z)({},u,e)))})),isRequired:I.includes(u)})})));return O?a.createElement(Z,{path:n,form:O,Form:h,instance:c,rootInstance:s,schema:w,rootSchema:r,validation:d},N):N}var L=D&&D.filter(u.Dw);if(!L||!L.length)return null;var z=L.filter((function(e){var t=e.conditions,n=E(null!=t?t:[],s);return n.conditions.some((function(e){return e.disable}))||n.isValid}));return z.length?a.createElement(C,{path:n,controls:L,instance:c,rootInstance:s,schema:w,rootSchema:r,validation:d},z.map((function(t,o){return a.createElement(x,{key:"".concat(n.join("/"),"[").concat(o,"]"),path:n,control:t,instance:c,rootInstance:s,schema:w,rootSchema:r,onChange:f,required:e.isRequired,validation:d,FormControl:m})}))):null}var D=(0,a.forwardRef)((function(e,t){var n=e.autoValidate,i=e.instance,l=e.onChange,u=e.Form,c=e.FormSection,s=e.FormTabs,p=e.FormControl,f=e.FormControlGroup,m=(0,a.useState)(),v=(0,o.Z)(m,2),h=v[0],g=v[1],b=(0,a.useMemo)((function(){return"string"==typeof e.schema?JSON.parse(e.schema):e.schema}),[e.schema]),y={Form:(0,a.useMemo)((function(){return u}),[]),FormSection:(0,a.useMemo)((function(){return c}),[]),FormTabs:(0,a.useMemo)((function(){return s}),[]),FormControl:(0,a.useMemo)((function(){return p}),[]),FormControlGroup:(0,a.useMemo)((function(){return f}),[])},w=(0,a.useRef)(b),E=(0,a.useRef)(i);(0,a.useEffect)((function(){w.current=b}),[b]),(0,a.useEffect)((function(){E.current=i}),[i]);var O=(0,a.useMemo)((function(){var e=new(C())({removeAdditional:!0,useDefaults:!0,coerceTypes:!0,discriminator:!0});return e.addKeyword("x-control"),e.addKeyword("x-form"),e}),[]),x=(0,a.useCallback)((function(){var e=(0,d.ZP)(E.current,(function(e){!function(e){O.validate(w.current,e)}(e)}));e!==E.current&&l(e);var t={isValid:!O.errors||!O.errors.length,errors:O.errors||[]};return g(t),t}),[O,l]);return(0,a.useEffect)((function(){!1!==n&&x()}),[i,x,n]),(0,a.useImperativeHandle)(t,(function(){return{validate:x}}),[x]),a.createElement(A,(0,r.Z)({},e,y,{path:[],schema:b,rootSchema:b,rootInstance:i,validation:h}))}))}}]);